<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>xzell ซื้อ-ขายออนไลน์ได้อย่างปลอดภัย</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="/js/w3.css" rel="stylesheet" type="text/css">
<link href="/js/projex.css" rel="stylesheet" type="text/css">
<link href="/js/material-x.css" rel="stylesheet" type="text/css">

<style>

  /* layout */
  body { background-color: /*var(--grey-200);*/ }
  .mother { 
    max-width: 800px; 
    display: grid; 
    grid-template-columns: 100%;
    margin: 0 auto;
  }
  .left-part { display: none; height: 100vh; }
  .right-part { display: none; height: 100vh; }
  .center-part {
    width: 100%;
    height: 100vh;
    padding: 0 16px;
  }

  /* font */
  html { font-size: 16px }
  p, li, span, input, option { font-size: 1.1rem }
  label { font-size: 0.9rem;}
  button { font-size: 0.8rem }
  label { font-family: Ubuntu Condensed; color: var(--indigo-400)}
  h1 { font-size: 2rem; font-family: Ubuntu Condensed; color: darkred; }
  h2 { font-size: 1.75rem; font-family: Ubuntu Condensed; }
  h3 { font-size: 1.5rem; font-family: Ubuntu Condensed; }
  h4 { font-size: 1.25rem; font-family: Ubuntu Condensed; }
  a { color: #0000ff; text-decoration: underline;}
  a:link { color: #0000ff }
  a:visited { color: #0000ff }
  a:hover { color: #0000cc; text-decoration: none; }
  a:active { color: #000099 }
  .product-menu {}
  .product-menu > div { 
    aspect-ratio: 1 / 1; cursor: pointer; position: relative; 
  }
  .item-num { position: absolute; left: 0; bottom: 0; line-height: 1.0; padding-right: 4px; font-size: 1.5rem; background-color: rgba(255,255,255,0.4);}
  .item-tag { position: absolute; bottom: 0; right: 0; font-size: 0.9rem}
</style>
</head>
<body>

<!-- userName -->
<span style="position: fixed; top: 0; right: 4px; font-size: 1rem; color: var(--indigo-400); font-family: monospace;" class="x-level-top">@john</span>

<div class="mother">
  <div class="left-part"></div>


  <!--main part-->
  <div class="center-part" >

    <!-- xzell home -->
    <div style="font-size: 1rem; display: inline-block; padding: 0 4px; line-height: 1.0; margin-top: 6px" class="x-round x-border"><a href="/xzell/index.html" style="text-decoration: none; color: black">xzell</a></div>

    <!-- screen name -->
    <h1 style="text-align: center; font-family:;">@foods4u</h1>

    <p style="text-align: center; font-size: 0.8rem; color: grey">ซื้อ-ขายออนไลน์ได้อย่างปลอดภัย เพราะจ่ายเมื่อได้รับและพอใจในสินค้าแล้วเท่านั้น <span class="x-round x-border x-plr8 x-black x-pointer" style="font-size: 1rem; border: 1px var(--indigo-400) solid">join xzell now!</span></p>

    <!-- set up -->
    <div style="display: grid; grid-template-columns: auto; margin: 20px 0">
      <div id="setup_icon_wrap" style="display: inline-block">
        <img id="setup_icon" src="/icon/off.svg" class="x-wh32 x-pointer" onclick="switchToggle( this )"> Set-up
      </div>

      <div id="setup_content" class="x-background" style="padding: 16px" hidden>
        <div class="x-pointer x-round w3-button" style="font-size: 0.9rem; border: 2px solid gray; padding: 8px 12px 8px 8px">
          <img src="/icon-x/Plus.svg" class="x-wh16"> &nbsp;Add New Product
        </div>
        <div class="x-mt16"><img src="/icon/off.svg" class="x-wh32"> This is setting 2</div>
        <div class="x-mt8"><img src="/icon/off.svg" class="x-wh32"> This is setting 3</div>
        <div class="x-mt8"><img src="/icon/off.svg" class="x-wh32"> This is setting 4</div>
      </div>
    </div>
    

    <!-- show menu here -->
    <div class="product-menu" style="display: grid; grid-template-columns: auto auto; gap: 6px; margin-top: 6px">
      <div>
        <img src="/xzell/pic/food1.jpeg" style="width: 100%; height: 100%; object-fit: cover;">
        <span class="item-num">#1</span>
      </div>
      <div>
        <img src="/xzell/pic/pad-gaprao1.jpeg" style="width: 100%; height: 100%; object-fit: cover;">
        <span class="item-num">#2</span>
      </div>
      <div>
        <img src="/xzell/pic/food3.jpeg" style="width: 100%; height: 100%; object-fit: cover;">
        <span class="item-num">#3</span>
        <span class="w3-tag item-tag">NEW</span>
      </div>
      <div>
        <img src="/xzell/pic/food4.jpeg" style="width: 100%; height: 100%; object-fit: cover;">
        <span class="item-num">#4</span>
      </div>
      <div>
        <img src="/xzell/pic/food5.jpeg" style="width: 100%; height: 100%; object-fit: cover;">
        <span class="item-num">#5</span>
      </div>
      <div>
        <img src="/xzell/pic/food6.jpeg" style="width: 100%; height: 100%; object-fit: cover;">
        <span class="item-num">#6</span>
      </div>
      <div>
        <img src="/xzell/pic/food7.jpeg" style="width: 100%; height: 100%; object-fit: cover;">
        <span class="item-num">#7</span>
      </div>
      <div>
        <img src="/xzell/pic/food8.jpeg" style="width: 100%; height: 100%; object-fit: cover;">
        <span class="item-num">#8</span>
      </div>
    </div>



    <!-- space at the bottom -->
    <div style="height: 32px;"></div>


    <!-- feature stuff -->
    <div id="show_full_pic" style="width: 100vw; height: 100vh; background-color: black; display: none; justify-content: center; align-items: center; position: fixed; left: 0; top: 0">
      <div style="position: relative;">
        <h4 style="color: white; padding: 0 8px; text-align: center">ผัดกะเพรา หมูสับ ไข่ดาว ราดข้าว #2/@foods4u</h4>
        <img id="pic_to_show" src="" style="width: 100%; max-height: 100%; object-fit: contain;">
        <div style="display: inline-block; padding: 8px; cursor: pointer;" onclick="document.querySelector('#show_full_pic').style.display = 'none';">
          <img src="/icon/x-grey.svg" class="x-wh32">
        </div>
        <!--span style="position: absolute; top: 8px; left: 8px; background-color: rgba(255,255,255,0.5);" class="x-round">@foods4you #444</span-->
      </div>
    </div>



  </div>


  <div class="right-part"></div>
</div>


<script>
function qtyCal( SIGN ) {
  // SIGN: - | +
  if ( SIGN == '+') {
    qty_input.value = Number(qty_input.value) + 1
    total_input.value = Number(qty_input.value) * Number(price_input.value)
    calAll()
  } else {
    if ( qty_input.value > 1) {
      qty_input.value = Number(qty_input.value) - 1
      total_input.value = Number(qty_input.value) * Number(price_input.value)
      calAll()
    }
    
  }
}


function calAll() {
  const taxRate = 0.07
  const price   = getRawNumber( price_input.value)
  const qty     = Number( qty_input.value)
  const total   = price * qty
  const tax     = total * taxRate
  const net     = total + tax
  total_input.value = getTradeValue( total) 
  tax_input.value   = getTradeValue( tax) 
  net_input.value   = getTradeValue( net) 
}



function getTradeValue(value) {
  // Ensure the input is a number
  if (typeof value !== 'number') {
    // You might want to throw an error, return a default, or convert the value
    console.warn("getTradeValue expects a number. Received:", value);
    return String(value); // Return original value as string for non-numeric input
  }

  // Create a NumberFormat instance
  // 'en-US' locale for comma thousands separator and dot decimal
  // minimumFractionDigits and maximumFractionDigits ensure exactly two decimal places
  const formatter = new Intl.NumberFormat('en-US', {
    minimumFractionDigits: 2,
    maximumFractionDigits: 2,
    useGrouping: true // Ensures thousands separators are used
  });

  return formatter.format(value);
}


function getRawNumber(formattedValue) {
  // Ensure the input is a string
  if (typeof formattedValue !== 'string') {
    // If it's already a number, just return it.
    // If it's null/undefined/etc., return null or throw an error.
    if (typeof formattedValue === 'number') {
      return formattedValue;
    }
    console.warn("getRawNumber expects a string or number. Received:", formattedValue);
    return null; // Or throw new TypeError("Input must be a string or number");
  }

  // 1. Remove thousands separators (commas in this case)
  // The g flag ensures ALL commas are replaced, not just the first one.
  const stringWithoutCommas = formattedValue.replace(/,/g, '');

  // 2. Parse the string into a floating-point number
  const rawNumber = parseFloat(stringWithoutCommas);

  // 3. Check if the parsing was successful (i.e., not NaN - Not a Number)
  if (isNaN(rawNumber)) {
    console.warn(`Failed to parse "${formattedValue}" into a number.`);
    return null; // Or return 0, or throw an error
  }

  return rawNumber;
}




function switchToggle( ELEM ) {
  if (ELEM.src.includes('off.svg')) {
    //from off > on
    ELEM.src = '/icon/switch-on.svg'
    setup_content.hidden = false
    setup_icon_wrap.style.backgroundColor = 'var(--grey-200)'
  } else {
    //from on > off
    ELEM.src = '/icon/off.svg'
    setup_content.hidden = true
    setup_icon_wrap.style.backgroundColor = 'white'
  }
}



function showFullPic( PIC_ELEM ) {
  pic_to_show.src = PIC_ELEM.src
  show_full_pic.style.display = 'flex'
}






//=============================================================

//calAll()


document.querySelector('.product-menu').addEventListener('click', event => {
  if (event.target.tagName.toLowerCase() == 'img') {
    showFullPic( event.target )
  }
})




</script>
</body>
</html>