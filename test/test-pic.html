<html>
<script src="/js/nodex-b.js"></script>
<body>
<h1>test auto crop pic</h1>

<p>choose a pic and it will auto show below with the crop by 4:3 aspect, and we get dataUrl code.</p>

<input type="file" id="file_input" accept="image/*" onchange="nodex.getDataUrlimage( this ).then( durl => show_pic.src = durl)">

<img id="show_pic" style="width: 100%">




<script>


// --- Call the one-shot setup function on page load ---
/*document.addEventListener('DOMContentLoaded', () => {

  const fileInput = document.getElementById('file_input');
  const showPic = document.getElementById('show_pic');

  // This single call sets up the entire pipeline for the file input
  getDataUrlimage(
    fileInput, showPic, 
    { crop: '4:3', outputWidth: 1000 }
  );
  
});

*/


</script>
</body>
</html>