<!DOCTYPE html>
<html>
<head>
  <link rel="icon" type="image/x-icon" href="../favicon.ico">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>@nex-era / ความเป็นไปของโลก</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* Define the Regular weight */
    @font-face {
      font-family: 'SaraSamkan';
      src: url('/font/sara-regular.ttf') format('truetype');
      font-weight: normal;
    }

    /* Define the Bold weight */
    @font-face {
      font-family: 'SaraSamkan';
      src: url('/font/sara-bold.ttf') format('truetype');
      font-weight: bold;
    }

    html { 
      font-size: 16px; 
      font-family: 'SaraSamkan', sans-serif;
      font-weight: 400; /* Use the Regular file */
      color: #555;      /* Use a dark grey instead of pure black */
      letter-spacing: 0.5px; /* Adding tiny space makes it feel lighter */
      -webkit-font-smoothing: antialiased;
    }
    body { max-width: 600px; margin: 0 auto; padding: 0 16px }
    .list-box * { font-size: 1.2rem }
    .post-brief { display: grid; grid-template-columns: 2fr 5fr; gap: 16px; align-items: stretch; cursor: pointer; background-color: oklch(96.7% 0.003 264.542) }
    .post-brief:hover { background-color: lightblue}
  </style>
</head>
<body>

  <h2>ความเป็นไปในโลก</h2>
  <p>เล่าเรื่องต่างๆ ทั้งในไทย ในโลก เอาแบบสั้นๆ ง่ายๆ เป็นประโยชน์ จะทำเป็นคล้ายๆ blog แต่เป็นแบบง่ายๆ ธรรมดาๆ ไม่หวือหวา เน้นอ่าน แต่ละเรื่องมีภาพซัก 1 ใบพอเนาะ</p>

  <div class="list-box" style="display: grid; grid-template-columns: 100%; gap: 8px; margin-top: 32px">
  </div>



  <div style="height: 48px"></div>
  <div style="position: fixed; left: 0; bottom: 0; cursor: pointer; padding: 4px" onclick="location.href='/index.html' ">
    <img src="/icon/u-turn.svg" width="32" height="32">
  </div>



</body>
<script>
  
  let postList;
  const listBoxEl = document.querySelector('.list-box')
  
 

  getPostList().then( list => {
    list.forEach( brief => {

      if (!brief.pic) {
        brief.pic = '/icon-x/File.svg'
      } else {
        brief.pic = './' + brief.pic
      }

      let template = `<div class="post-brief"
        onclick="location.href='./${brief.file}';"
        >
          <div style="${brief.pic.includes('File.svg')? 'display: flex; align-items: center; justify-content: center' : ''}">
            <img src="${brief.pic}" 
              style="${brief.pic.includes('File.svg') ? 
                'width: 40px; height: 40px;' : 
                'width: 100%; height: 100%; object-fit: cover'}"
            />
          </div>
          <div style="padding: 16px 8px 16px 0; display: flex; flex-direction: column; justify-content: center">
            <h3 style="margin: 0">${brief.title}</h3>
            <i style="font-size: 0.8rem">-- ${brief.date}</i>
          </div>
        </div>`

      let newPostBrief = document.createElement('div')
      newPostBrief.innerHTML = template
      listBoxEl.append(newPostBrief)
    })
    
  })
  
    

  
  
  
  
  async function getPostList() {
    try {
      const resp = await fetch('./post-list.json')
      const oj = await resp.json()
      console.log(oj)
      return oj
    } catch(er) {
      console.error(er)
    }
  }
  
</script>
</html>